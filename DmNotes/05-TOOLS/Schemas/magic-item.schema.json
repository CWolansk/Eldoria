{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "https://eldoria-campaign.com/schemas/magic-item.schema.json",
  "title": "Eldoria Magic Item",
  "type": "object",
  "required": ["name", "rarity", "type", "effect", "quirk"],
  "properties": {
    "name": {"type": "string"},
    "source": {"type": "string", "default": "Homebrew - Eldoria Campaign"},
    "rarity": {
      "type": "string",
      "enum": ["common", "uncommon", "rare", "very rare", "legendary", "artifact"]
    },
    "type": {
      "type": "string",
      "enum": ["weapon", "armor", "shield", "wondrous item", "ring", "rod", "staff", "wand", "potion", "scroll", "other"]
    },
    "attunement": {
      "type": "string",
      "enum": ["none", "yes", "by a spellcaster", "by a specific class", "by a specific race", "other requirement"]
    },
    "weight": {"type": "string"},
    "value": {"type": "string", "description": "Market value in gp"},
    "effect": {
      "type": "string", 
      "description": "Primary beneficial mechanical effect"
    },
    "quirk": {
      "type": "string",
      "description": "Minor drawback or amusing side effect that creates roleplay opportunities"
    },
    "socialComplications": {
      "type": "array",
      "description": "Potential social situations this item might create",
      "items": {"type": "string"}
    },
    "campaignIntegration": {
      "type": "object",
      "properties": {
        "kingdom": {"type": "string", "description": "Which kingdom this item originates from or relates to"},
        "guildRelevance": {"type": "string", "description": "How this relates to Adventurers or Merchants Guild"},
        "plotHooks": {"type": "array", "items": {"type": "string"}},
        "npcConnections": {"type": "array", "items": {"type": "string"}}
      }
    },
    "mechanics": {
      "type": "object",
      "properties": {
        "damage": {"type": "string"},
        "properties": {"type": "array", "items": {"type": "string"}},
        "spells": {"type": "array", "items": {"type": "string"}},
        "charges": {"type": "integer"},
        "recharge": {"type": "string"},
        "saveDC": {"type": "integer", "enum": [10, 12, 14, 15, 16, 18, 20]},
        "attackBonus": {"type": "string"},
        "acBonus": {"type": "string"}
      }
    },
    "history": {
      "type": "object",
      "properties": {
        "creator": {"type": "string"},
        "purpose": {"type": "string"},
        "previousOwners": {"type": "array", "items": {"type": "string"}},
        "currentLocation": {"type": "string"}
      }
    },
    "playerSuitability": {
      "type": "object",
      "description": "Which party members this item particularly suits",
      "properties": {
        "Julie": {"type": "string", "description": "How this item fits the Human Fighter Archaeologist"},
        "Liz": {"type": "string", "description": "How this item fits the Elf Bard"},
        "Claire": {"type": "string", "description": "How this item fits the Water Genasi Tempest Cleric"},
        "JP": {"type": "string", "description": "How this item fits the Half-Orc Drunken Monk"},
        "Justin": {"type": "string", "description": "How this item fits the Human Ranger Merchant"},
        "Vanessa": {"type": "string", "description": "How this item fits the Human Fighter"},
        "Randi": {"type": "string", "description": "How this item fits the Aarakocra Wizard"}
      }
    }
  }
}
